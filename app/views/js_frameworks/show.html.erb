<div ng-controller="commentsCtrl" ng-init="getFramework(<%= params[:id] %>)">
  <div class="well">
    <h3><a href="{{ framework.documentation }}">{{ framework.name }}</a></h3>
    <h4>By: {{ framework.author }}</h4>
    <h5><a href="{{ framework.source }}">Download</a></h5>
  </div>

  <div class="row" style="margin-bottom: 20px;">
    <div class="col-sm-6">
      <textarea ng-model="comment" type="text" class="form-control" rows="4" placeholder="Leave a comment"></textarea>
    </div>
    <div class="col-sm-2">
      <input ng-click="createComment(comment, framework)" type="submit" class="btn btn-default" value="Submit">
    </div>
    <div class="alert col-sm-4" ng-class="{'alert-danger': error, 'alert-success': createdMessage}" role="alert">
      {{ error }}
      {{ createdMessage }}
    </div>

  </div>

  <div class="list-group col-sm-6">
    <a href="" ng-mouseover="showEdit(framework, comment)" ng-mouseleave="removeEdit(comment)" class="list-group-item" ng-repeat="comment in framework.comments">
      <div ng-if="!comment.editable">
        <h5>{{ comment.email }}</h5>
        <h4>{{ comment.comment_text }}</h4>
        <p ng-if="comment.edit" ng-click="editComment(comment)">Edit</p>
      </div>
      <div ng-if="comment.editable">
        <textarea ng-model="comment.comment_text" class="form-control" name="" id="" rows="4"></textarea>
        <input ng-click="updateComment(comment, framework)" type="submit" class="btn btn-default" value="Submit">
      </div>
    </a>
  </div>
  <div class="alert col-sm-4" ng-class="{'alert-danger': error, 'alert-success': updatedMessage}" role="alert">
    {{ error }}
    {{ updatedMessage }}
  </div>
</div>
